<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TouchWave Home v4.1 — New Build</title>

<style>
  html, body {
    margin: 0;
    overflow: hidden;
    background: #000;
    font-family: "Noto Sans KR", sans-serif;
    color: #d8f7ff;
  }

  /* 중앙 타이틀 */
  .center-title {
    position: absolute;
    top: 41%; /* 변경됨 — 캐시 인식 강제 */
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 43px; /* 변경됨 */
    font-weight: 300;
    text-align: center;
    color: #ffffffd0;
    z-index: 10;
    letter-spacing: 0.75px;
  }

  .sub-text {
    margin-top: 20px;
    font-size: 18.5px; /* 변경됨 */
    opacity: 0.82;
  }

  /* 네비게이션 */
  nav {
    position: absolute;
    top: 22px; /* 변경됨 */
    width: 100%;
    text-align: center;
    z-index: 20;
  }
  nav a {
    color: #dff8ff;
    margin: 0 20px; /* 변경됨 */
    text-decoration: none;
    font-size: 17px;
    opacity: 0.75;
  }
  nav a:hover {
    opacity: 1;
    text-shadow: 0 0 8px #8deeff;
  }
</style>
</head>

<body>

<nav>
  <a href="index.html">Home</a>
  <a href="versions.html">Versions</a>
  <a href="philosophy.html">Philosophy</a>
</nav>

<div class="center-title">
  TouchWave — Living Light Universe<br>
  <div class="sub-text">LMH 光循環 + 光脈動 기반 우주 생성 엔진</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
/* =============================
   기본 세팅
============================= */
let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 2000);
camera.position.z = 46;

let renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* =============================
   Galaxy Field
============================= */
const starGeometry = new THREE.BufferGeometry();
const starCount = 20000;
const positions = new Float32Array(starCount * 3);

for (let i = 0; i < positions.length; i++) {
  positions[i] = (Math.random() - 0.5) * 620; /* 변경됨 */
}
starGeometry.setAttribute("position", new THREE.BufferAttribute(positions, 3));

let starMaterial = new THREE.PointsMaterial({
  size: 0.92, /* 변경됨 */
  transparent: true,
  opacity: 0.86,
  color: 0xffffff
});

const stars = new THREE.Points(starGeometry, starMaterial);
scene.add(stars);

/* =============================
   Core
============================= */
const coreGeometry = new THREE.SphereGeometry(6, 64, 64);
let coreMaterial = new THREE.MeshBasicMaterial({
  color: 0x6688ff,
  transparent: true,
  opacity: 0.96
});
const core = new THREE.Mesh(coreGeometry, coreMaterial);
scene.add(core);

/* =============================
   Nebula
============================= */
const nebulaGeometry = new THREE.SphereGeometry(80, 64, 64);
let nebulaMaterial = new THREE.MeshBasicMaterial({
  color: 0x4466ff,
  transparent: true,
  opacity: 0.23
});
const nebula = new THREE.Mesh(nebulaGeometry, nebulaMaterial);
scene.add(nebula);

/* =============================
   LMH Spectrum
============================= */
function spectrumColor(t) {
  let r = Math.sin(t * 0.21) * 0.5 + 0.5;
  let g = Math.sin(t * 0.21 + 2.1) * 0.5 + 0.5;
  let b = Math.sin(t * 0.21 + 4.2) * 0.5 + 0.5;
  return new THREE.Color(r, g, b);
}

/* =============================
   Pulse
============================= */
function pulseValue(t) {
  return 1.0 + Math.sin(t * 2.25) * 0.085; /* 변경됨 */
}

/* =============================
   Animation Loop
============================= */
function animate(t) {
  requestAnimationFrame(animate);

  let tt = t * 0.001;

  stars.rotation.y += 0.00018; /* 변경됨 */
  nebula.rotation.y += 0.00085;
  core.rotation.y -= 0.0021;

  let col = spectrumColor(tt);
  starMaterial.color = col;
  coreMaterial.color = col;
  nebulaMaterial.color = col;

  let pulse = pulseValue(tt);
  core.scale.set(pulse, pulse, pulse);

  let nebulaPulse = 1.0 + Math.sin(tt * 1.18) * 0.016;
  nebula.scale.set(nebulaPulse, nebulaPulse, nebulaPulse);

  renderer.render(scene, camera);
}
animate();

/* =============================
   Resize
============================= */
addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>

</body>
</html>
