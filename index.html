<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TouchWave Home v4.4 — Core Glow Header Edition</title>

<style>
  html, body {
    margin: 0;
    overflow: hidden;
    background: #000;
    font-family: "Noto Sans KR", sans-serif;
    color: #d8f7ff;
  }

  /* -----------------------------------
     Header v4.4 — Light-Core Glow 헤더
  ----------------------------------- */
  .tw-header {
    position: fixed;
    top: 0;
    width: 100%;
    padding: 18px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0,0,0,0.35);
    backdrop-filter: blur(8px);
    z-index: 50;
  }

  /* 로고 */
  .logo {
    display: flex;
    align-items: center;
    gap: 12px;
    color: #dff8ff;
    font-size: 22px;
    letter-spacing: 1px;
  }

  /* Glow Core ("◎"를 직접 구현) */
  .core {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: radial-gradient(circle,
        #88bbff 0%,
        #5599ff 40%,
        #2244aa 80%
    );
    box-shadow:
      0 0 8px #88bbff,
      0 0 20px #5599ff,
      0 0 40px #3377ff;
    animation: corePulse 3.5s infinite ease-in-out;
  }

  /* Core Pulse Animation */
  @keyframes corePulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.35); opacity: 0.85; }
    100% { transform: scale(1); opacity: 1; }
  }

  /* Navigation */
  nav {
    display: flex;
    gap: 28px;
  }
  nav a {
    text-decoration: none;
    color: #c8f4ff;
    font-size: 17px;
    opacity: .75;
  }
  nav a:hover {
    opacity: 1;
    text-shadow: 0 0 8px #8deeff;
  }

  /* 중앙 텍스트 */
  .center-title {
    position: absolute;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 42px;
    font-weight: 300;
    text-align: center;
    color: #ffffffcc;
    z-index: 10;
    letter-spacing: 0.8px;
    padding: 0 10px;
  }
  .sub-text {
    margin-top: 18px;
    font-size: 18px;
    opacity: 0.8;
  }
</style>
</head>

<body>

<!-- -------------------------------
     HEADER v4.4
-------------------------------- -->
<header class="tw-header">
  <div class="logo">
    <div class="core"></div>
    <span>TouchWave</span>
  </div>

  <nav>
    <a href="index.html">Home</a>
    <a href="versions.html">Versions</a>
    <a href="philosophy.html">Philosophy</a>
    <a href="gallery.html">Gallery</a>
    <a href="about.html">About</a>
  </nav>
</header>

<!-- 중앙 타이틀 -->
<div class="center-title">
  TouchWave — Living Light Universe<br>
  <div class="sub-text">LMH 光循環 + 光脈動 기반 우주 생성 엔진</div>
</div>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
/* ============================
   Scene
============================ */
let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 2000);
camera.position.z = 45;

let renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* ============================
   Galaxy Field
============================ */
const starGeometry = new THREE.BufferGeometry();
const starCount = 18000;
const positions = new Float32Array(starCount * 3);

for (let i = 0; i < starCount * 3; i++) {
  positions[i] = (Math.random() - 0.5) * 600;
}
starGeometry.setAttribute("position", new THREE.BufferAttribute(positions, 3));

let starMaterial = new THREE.PointsMaterial({
  size: 1.0,
  transparent: true,
  opacity: 0.85,
  color: 0xffffff
});

const stars = new THREE.Points(starGeometry, starMaterial);
scene.add(stars);

/* ============================
   Core
============================ */
const coreGeometry = new THREE.SphereGeometry(6, 64, 64);
let coreMaterial = new THREE.MeshBasicMaterial({
  color: 0x6688ff,
  transparent: true,
  opacity: 0.95
});
const core = new THREE.Mesh(coreGeometry, coreMaterial);
scene.add(core);

/* ============================
   Nebula
============================ */
const nebulaGeometry = new THREE.SphereGeometry(80, 64, 64);
let nebulaMaterial = new THREE.MeshBasicMaterial({
  color: 0x4466ff,
  transparent: true,
  opacity: 0.22
});
const nebula = new THREE.Mesh(nebulaGeometry, nebulaMaterial);
scene.add(nebula);

/* ============================
   Spectrum Color
============================ */
function spectrumColor(t) {
  let r = Math.sin(t * 0.2) * 0.5 + 0.5;
  let g = Math.sin(t * 0.2 + 2) * 0.5 + 0.5;
  let b = Math.sin(t * 0.2 + 4) * 0.5 + 0.5;
  return new THREE.Color(r, g, b);
}

/* ============================
   Pulse
============================ */
function pulseValue(t) {
  return 1.0 + Math.sin(t * 2.2) * 0.08;
}

/* ============================
   Animation
============================ */
function animate(t) {
  requestAnimationFrame(animate);

  let tt = t * 0.001;

  nebula.rotation.y += 0.0008;
  stars.rotation.y += 0.00015;
  core.rotation.y -= 0.002;

  let col = spectrumColor(tt);
  coreMaterial.color = col;
  nebulaMaterial.color = col;
  starMaterial.color = col;

  let pulse = pulseValue(tt);
  core.scale.set(pulse, pulse, pulse);

  let nebulaPulse = 1.0 + Math.sin(tt * 1.2) * 0.015;
  nebula.scale.set(nebulaPulse, nebulaPulse, nebulaPulse);

  renderer.render(scene, camera);
}
animate();

/* ============================
   Resize
============================ */
addEventListener("resize", () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
});
</script>

</body>
</html>
